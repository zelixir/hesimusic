# 阶段四：播放详情与高级功能

## 目标
开发正在播放页面，实现播放队列管理、睡眠模式、均衡器等高级功能。

## 任务列表

### 1. 正在播放页 (PlayerScreen)
- [ ] 实现全屏播放界面。
- [ ] **封面显示**: 使用 Coil 加载嵌入封面或本地图片。
- [ ] **进度控制**: 实现可拖动的 `Slider`，实时更新当前时间/总时间。
- [ ] **播放控制**: 上一曲, 播放/暂停, 下一曲, 循环模式切换。

### 2. 播放队列 (Queue)
- [ ] 实现播放队列侧滑栏或独立页面。
- [ ] 显示当前播放队列。
- [ ] 支持拖拽排序 (Reorderable)。
- [ ] 支持删除单曲、清空队列。

### 3. 睡眠模式
- [ ] 实现 `SleepTimerDialog`。
- [ ] 在 Service 中实现定时暂停逻辑。
- [ ] UI 显示剩余时间。

### 4. 均衡器 (Equalizer)
- [ ] 集成 Android `Equalizer` API 或 ExoPlayer `AudioProcessor`。
- [ ] 实现 5段/10段 均衡器 UI (垂直 Slider)。
- [ ] 保存/加载均衡器预设。

## 验收标准
1.  正在播放页封面加载正常，无封面显示占位图。
2.  进度条拖动平滑，松手后能准确跳转。
3.  播放队列能正确反映当前播放顺序，修改队列后播放逻辑随之改变。
4.  设置 1 分钟睡眠，1 分钟后音乐自动暂停。
5.  调节均衡器滑块，听感有明显变化。
